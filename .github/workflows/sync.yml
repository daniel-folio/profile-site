# .github/workflows/sync.yml

name: Sync to B Repository

on:
  push:
    branches:
      - main   # A 저장소의 메인 브랜치 이름

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      # 1. A 저장소의 코드를 가져온다
      - name: Checkout A Repo
        uses: actions/checkout@v4

      # 2. 검증된 액션을 사용하여 B 저장소로 push 한다
      - name: Push to B Repo
        uses: ad-m/github-push-action@master
        with:
          # A 저장소의 Secrets에 저장한 PAT를 사용합니다.
          github_token: ${{ secrets.PAT_FOR_B_REPO }}
          # B 저장소의 '사용자이름/저장소이름'
          repository: daniel-works0001/portfolio
          # B 저장소에 push할 브랜치 이름
          branch: main
          # 강제 푸시 옵션
          force: true