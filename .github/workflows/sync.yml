# .github/workflows/sync.yml

name: Sync to A Repository

on:
  push:
    branches:
      - main # B 저장소의 메인 브랜치

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      # 1. B 저장소(소스) 코드를 가져옴
      - name: Checkout B Repo
        uses: actions/checkout@v4
        with:
          fetch-depth: 0 # 모든 git 히스토리를 가져옵니다.

      # 2. A 계정의 권한으로 A 저장소(대상)에 강제 push
      - name: Push to A Repo
        run: |
          git push https://${{ secrets.A_REPO_PAT }}@github.com/daniel-works0001/portfolio.git HEAD:main --force
